<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AB Studio Spam Test</title>
</head>
<body>
  <h2>ðŸš¨ 1 Second e 1 Notification Test</h2>
  <button onclick="startSpam()">Start Spam</button>
  <button onclick="stopSpam()">Stop Spam</button>

  <script>
    let interval;

    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js').then(reg => {
        console.log("SW Registered");
      });
    }

    function startSpam() {
      Notification.requestPermission().then(permission => {
        if (permission === "granted") {
          interval = setInterval(() => {
            navigator.serviceWorker.getRegistration().then(reg => {
              reg.showNotification("ðŸš¨ AB Studio Alert!", {
                body: "Every second notification ðŸ˜…",
                icon: "https://cdn-icons-png.flaticon.com/512/727/727399.png",
                vibrate: [100, 50, 100],
              });
            });
          }, 1000); // 1000ms = 1 second
        } else {
          alert("Permission denied.");
        }
      });
    }

    function stopSpam() {
      clearInterval(interval);
      alert("Stopped notifications");
    }
  </script>
</body>
</html>
